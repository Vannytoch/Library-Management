<?xml version="1.0" encoding="UTF-8"?>
<odoo>
   <template id="quotation_report_template">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="article" style="height: 1400px; max-height: 1754px; background-color: #FAF9F4 !important; padding: 80px 80px 0px 80px ;">
                    <style>
                        html, body {
                            background-color: #FAF9F4 !important;
                        }
                        .page {
                            background-color: transparent !important;
                        }
                    </style>
                    <div class="page" style="font-family: 'Calibri'; font-size: 16px; color: #21335B;">
                        <!-- Header -->
                        <div class="row mb-4">
                            <div class="col-6 text-start fw-bold" style="font-family: 'Maiandra GD';">
                                <h1>Quotation</h1>
                                <h3><span t-field="doc.name"/></h3>

                            </div>
                            <div class="col-6 text-end">
                                <img t-att-src="'/Quotation_pdf_report/static/Crown.PNG'" style="height: 125px;" />
                            </div>
                        </div>

                    <!-- Customer Info -->
                        <div class="row mb-4">
                            <div class="col-6">
                                <p>
                                    <span class="fw-bold">Customer Information:</span><br/>
                                    <span t-field="doc.partner_id.name"/><br/>
                                    <span t-field="doc.partner_id.phone"/><br/>
                                    <span t-field="doc.partner_id.street"/><br/>
                                    <span t-field="doc.partner_id.city"/>
                                </p>
                            </div>
                            <div class="col-6 text-end">
                                 <p>
                                     <strong>Quotation Date:</strong> <span t-field="doc.date_order"/><br/>
                                     <strong>Salesperson:</strong> <span t-field="doc.user_id.name"/>
                                 </p>

                            </div>
                        </div>

                        <!-- Product Lines -->
                        <div class="container-fluid">
                            <!-- Header -->
                            <div class="row fw-bold pb-2" style="border-bottom: 2px solid #FE542E;">
                                <div class="col-4">Item</div>
                                <div class="col-2 text-center">Quantity</div>
                                <div class="col-2 text-center">Unit Price</div>
                                <div class="col-2 text-center">Discount(%)</div>
                                <div class="col-2 text-end pe-2">Total</div>
                            </div>

                            <!-- Line Items -->
                            <t t-set="total_discount" t-value="0.0"/>
                            <t t-foreach="doc.order_line" t-as="line">
                                <div class="row py-3 " style="border-bottom: 1px solid #FE542E;">
                                    <div class="col-4 ps-1"><span t-field="line.product_id.name"/></div>
                                    <div class="col-2 text-center"><span t-field="line.product_uom_qty"/></div>
                                    <div class="col-2 text-center"><span t-field="line.price_unit"/></div>
                                    <div class="col-2 text-center"><span t-field="line.discount"/>%</div>
                                    <div class="col-2 text-end pe-2"><span t-field="line.price_subtotal"/></div>
                                </div>
                                <t t-set="total_discount" t-value="total_discount + (line.price_unit * line.product_uom_qty * (line.discount / 100.0))"/>
                            </t>

                            <!-- Totals -->
                            <div class="row py-3">
                                <div class="col-6">
                                    <br/>
                                    <span class="fw-bold">
                                        Terms &amp; Conditions
                                    </span>
                                    <ul>
                                        <li>
                                            This quotation is an estimate only and not an invoice. Prices are valid until the specified "Valid to" date.
                                        </li>
                                        <li>
                                            Full payment is required prior to provision or delivery of goods/services.
                                        </li>
                                        <li>
                                                Quoted prices do not include delivery charges or any additional fees that may apply.
                                        </li>
                                        <li>
                                            Orders are subject to stock availability.
                                        </li>
                                    </ul>




                                </div>
                                <div class="col-6">
                                    <div  class="row fw-bold" style="font-size: 18px">
                                        <div class="col-5">

                                        </div>
                                        <div class="col-4 text-start " >
                                            <p style="line-height: 2.0;">

                                            Subtotal<br/>
                                            Discounts<br/>
                                            VAT
                                            </p>
                                        </div>
                                        <div class="col-3 text-end pe-1" style="line-height: 1.5">
                                            <p style="line-height: 2.0;">

                                            <span t-field="doc.amount_untaxed"/><br/>
                                            $ <t t-out="total_discount"/><br/>
                                            <span t-field="doc.amount_tax"/>
                                            </p>
                                        </div>
                                    </div>
                                    <div class="row mt-2">
                                        <div class="col-3">

                                        </div>
                                        <div class="col-1"  style="background-color: #FE542E;">

                                        </div>

                                        <div class="col-12" style="font-family: 'Maiandra GD';">
                                            <div class="row py-2 fw-bold" style="background-color: #FE542E; color: white;">
                                                <div class="col-3 text-end pe-2">
                                                    <h3>Total</h3>
                                                </div>
                                                <div class="col-5 text-end">
                                                    <h3><span t-field="doc.amount_total"/></h3>
                                                </div>
                                                <div class="col-4">

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <br/>
                        <h3 class="fw-bold">Please confirm your acceptance of this quote below.</h3>
                        <div class="row mt-3">
                            <div class="col-6 px-5 text-center">
                                <div style="height: 150px; border-bottom: 2px solid black;">

                                </div>
                                <p style="font-size: 24px">
                                    Customer's Signature
                                </p>
                            </div>
                            <div class="col-6 px-5 text-center ms-3">
                                 <div style="height: 150px; border-bottom: 2px solid black;">

                                </div>
                                <p style="font-size: 24px">
                                    Date
                                </p>
                            </div>
                        </div>

                        <div class="row mt-5">
                            <div class="col-3">

                            </div>
                            <div class="col-6">
                                <img class="mx-auto" t-att-src="'/Quotation_pdf_report/static/party.PNG'" style="height: 80px;" />
                            </div>
                            <div class="col-3">

                            </div>
                        </div>

                    </div>
                </div>
            </t>
        </t>
    </template>

    <record id="sale_order_custom_report" model="ir.actions.report">
        <field name="name">Quotation Report</field>
        <field name="model">sale.order</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">Quotation_pdf_report.quotation_report_template</field>
        <field name="report_file">Quotation_pdf_report.quotation_report_template</field>
        <field name="print_report_name">'SaleOrder-%s' % (object.name)</field>
        <field name="binding_model_id" ref="sale.model_sale_order"/>
        <field name="binding_type">report</field>
    </record>

</odoo>
