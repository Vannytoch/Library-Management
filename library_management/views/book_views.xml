<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <data>


        <record id="library_book_search_view" model="ir.ui.view">
            <field name="name">library.book.search.view</field>
            <field name="model">library.book</field>
            <field name="arch" type="xml">
                <search>
                    <filter name="create_date" string="Create Date" date="create_date"/>
                    <filter name="7_days" string="Last create 7 days"
                            domain="[('create_date', '&gt;', datetime.datetime.combine(context_today() - relativedelta(days=7), datetime.time(23,59,59)).to_utc())]"

                    />
                    <filter name="14_days" string="Last create 14 days"
                            domain="[('create_date', '&gt;', datetime.datetime.combine(context_today() - relativedelta(days=14), datetime.time(23,59,59)).to_utc())]"
                    />
                    <filter name="30_days" string="Last create 30 days"
                            domain="[('create_date', '&gt;', datetime.datetime.combine(context_today() - relativedelta(days=30), datetime.time(23,59,59)).to_utc())]"
                    />
                    <filter name="title"/>
                    <filter name="author"/>
                </search>
            </field>
        </record>

        <record id="library_book_list_view" model="ir.ui.view">
            <field name="name">library.book.list.view</field>
            <field name="model">library.book</field>
            <field name="arch" type="xml">
                <list>
                    <field name="title" decoration-danger="1"/>
                    <field name="author_id" decoration-success="1"/>
                    <field name="isbn" decoration-warning="1"/>
                    <field name="genre"/>
                    <field name="publication_date"/>
                    <field name="book_age"/>
                </list>
            </field>
        </record>

        <record id="library_book_form_view" model="ir.ui.view">
            <field name="name">library.book.form.view</field>
            <field name="model">library.book</field>
            <field name="arch" type="xml">
                <form name="Book form">
                    <sheet>
                        <group class="row">
                            <group class="col-6">
                                <field name="title"/>
                                <field name="author_id"/>
                                <field name="genre"/>
                                <field name="isbn" placeholder="XXX-X-XX-XXXXXX-X"/>
                            </group>
                            <group class="-col-6">
                                <field name="image_1920" widget="image" class="oe_avatar" nolabel="1"/>
                            </group>
                            <notebook>
                                <page string="Book Details">
                                    <group>
                                        <field name="publication_date"/>
                                        <field name="book_age"/>
                                    </group>
                                </page>

                                <page string="Status">
                                    <group>
                                        <field name="status" />
                                        <field name="member_id" readonly="1"/>
                                    </group>
                                </page>
                            </notebook>
                            <group>
                                <group>
                                    <field name="rental_fee" widget="monetary"/>
                                    <field name="currency_id" invisible="1"/>
                                </group>
                                <group class="text-end text-danger fw-bolder">
                                    <field name="total_rental" readonly="1" widget="monetary"/>
                                </group>

                            </group>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_ids" widget="mail_thread"/>
                    </div>

                </form>
            </field>
        </record>

        <record id="library_book_kanban_view" model="ir.ui.view">
            <field name="name">library.book.kanban.view</field>
            <field name="model">library.book</field>
            <field name="arch" type="xml">
                <kanban class="o_kanban_model" default_group_by="status">
                    <progressbar field="status"

                       colors='{"available":"success", "borrowed":"warning", "lost":"danger"}'
          />
                    <templates>
                        <t t-name="card">
                            <div class="row">
                                <div class="col-8">
                                    <field class="fw-bolder" name="title"/>
                                </div>
                                <div class="col-4 text-end" >
                                     <div class="o_kanban_image_fill position-relative w-100">
                                          <field class="h-100" name="image_1920" widget="image" options="{'img_class': 'object-fit-cover'}"/>
                                     </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <field name="author_id"/>
                                </div>

                            </div>
                            <div class="row">
                                <div class="col-6">
                                      <field name="status" widget="badge"
                                             decoration-success="status == 'available'"
                                             decoration-warning="status == 'borrowed'"
                                             decoration-danger="status == 'lost'"/>
                                </div>
                                <div class="col-6 text-end">
                                    <field name="isbn"/>
                                </div>
                            </div>

                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <record id="library_book_action" model="ir.actions.act_window">
            <field name="name">Library Management</field>
            <field name="res_model">library.book</field>
            <field name="view_mode">kanban,list,form</field>
        </record>

        <menuitem id="library_book_root_menu" name="Library Management" sequence="1"/>
        <menuitem id="library_book_sub_menu"
                  name="Books List"
                  parent="library_book_root_menu"
                  action="library_book_action"
                  sequence="2"/>

    </data>
</odoo>